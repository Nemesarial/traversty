/*!
  * Traversty: DOM Traversal Utility (c) Rod Vagg (@rvagg) 2011
  * https://github.com/rvagg/traversty
  * License MIT
  */
!function(a,b){typeof module!="undefined"?module.exports=b():typeof define=="function"&&define.amd?define(a,b):this[a]=b()}("traversty",function(){var a=this,b=a.traversty,c=window,d=c.document,e=null,f=Object.prototype.toString,g=function(a,b,c,d,e){for(;d<b.length;d++)if(a[e=b[d]+c])return e;if(a[c="m"+c.substring(1)])return c}(document.documentElement,["ms","webkit","moz","o"],"MatchesSelector",0),h=function(a){return f.call(a)==="[object Number]"},i=function(a){return f.call(a)==="[object String]"},j=function(a){return a===void 0},k=function(a){return a&&a.nodeType===1},l=function(a,b){return j(a)&&!h(b)?0:h(a)?a:b},m=function(a){return i(a)?a:"*"},n=function(a){var b=[],c,d;e:for(c=0;c<a.length;c++){for(d=0;d<b.length;d++)if(b[d]===a[c])continue e;b.push(a[c])}return b},o=function(a,b){var c=[],d=0,e=a.length;while(d<e)c.push(b(a[d++]));return c},p=function(a,b,c,d){return d=l(c,d),c=m(c),o(a,function(a){for(var e=d;a&&e>=0;)a=a[b],k(a)&&r(a,c)&&e--;return a||0})},q=function(a,b){return a.querySelectorAll(b)},r=function(a,b){return b==="*"||a[g](b)},s=function(a,b){return b=l(a,b),a=m(a),w(o(this,function(c){return q(c,a)[b]||0}))},t=function(a,b){return w(n(p(this,"parentNode",a,b)))},u=function(a,b){return w(p(this,"previousSibling",a,b))},v=function(a,b){return w(p(this,"nextSibling",a,b))},w=function(){function c(a){this.length=0;if(a){a=typeof a!="string"&&!a.nodeType&&typeof a.length!="undefined"?a:[a],this.length=a.length;for(var b=0;b<a.length;b++)this[b]=a[b]}}function f(a){return new c(i(a)?q(d,a):a)}return c.prototype={up:t,down:s,previous:u,next:v},f.setSelectorEngine=function(a){e=a},f.noConflict=function(){return a.traversty=b,this},f}();return w})